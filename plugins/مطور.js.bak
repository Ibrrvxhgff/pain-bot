import fetch from 'node-fetch';

let handler = async (m, { conn, usedPrefix, text, args, command }) => {
    await m.react('ðŸ˜ˆ');

    let who = m.mentionedJid && m.mentionedJid[0] ? m.mentionedJid[0] : m.fromMe ? conn.user.jid : m.sender;
    let name = await conn.getName(who);
    let edtr = `@${m.sender.split`@`[0]}`;
    let username = conn.getName(m.sender);

    // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø£ØºÙ†ÙŠØ©
    let audioUrl = 'https://files.catbox.moe/0k3ix0.mp3';
    await conn.sendMessage(m.chat, { 
        audio: { url: audioUrl }, 
        mimetype: 'audio/mp4', 
        ptt: false 
    }, { quoted: m });

    // ØªØ£Ø®ÙŠØ± 3 Ø«ÙˆØ§Ù†Ù Ù‚Ø¨Ù„ Ø¥Ø±Ø³Ø§Ù„ Ø¬Ù‡Ø© Ø§Ù„Ø§ØªØµØ§Ù„
    setTimeout(async () => {
        // VCARD Ø§Ù„Ø¬Ø¯ÙŠØ¯
        let list = [{
    displayName: "PAIN - fete",
    vcard: `BEGIN:VCARD
VERSION:3.0
FN:ð‘¯ð‘¨ð‘¹ð‘¶ð‘µ - Ø§ÙŠØ§Ù†Ùˆ
TEL;type=CELL;waid=969559958322:+966 55 995 8322 
EMAIL;type=INTERNET:harooongggi@gmail.com
URL:https://instagram.com/haron091g
ADR:;;Ø·Ø±Ø§Ø¨Ù„Ø³Ø› Ù„ÙŠØ¨ÙŠØ§;;;
END:VCARD`
}];
        await conn.sendMessage(m.chat, {
            contacts: {
                displayName: `${list.length} Ø¬Ù‡Ø© Ø§ØªØµØ§Ù„`,
                contacts: list
            },
            contextInfo: {
                externalAdReply: {
                    showAdAttribution: true,
                    title: 'Ù…Ø±Ø­Ø¨Ø§ØŒ Ù‡Ø°Ø§ Ù‡Ùˆ Ø§Ù„Ù…Ø·ÙˆØ± ð‘¯ð‘¨ð‘¹ð‘¶ð‘µ - Ø§ÙŠØ§Ù†Ùˆ',
                    body: 'Ù„Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ù…Ø·ÙˆØ± Ù…Ø¨Ø§Ø´Ø±Ø©',
                    thumbnailUrl: 'https://files.catbox.moe/d80hd8.jpg', // ÙŠÙ…ÙƒÙ† ØªØºÙŠÙŠØ±Ù‡ Ø¨ØµÙˆØ±Ø© Ø£Ø®Ø±Ù‰
                    sourceUrl: null,
                    mediaType: 1,
                    renderLargerThumbnail: true
                }
            }
        }, {
            quoted: m
        });

        let txt = `> Ù…Ù€Ø±Ø­Ù€Ø¨Ù€Ø§ ÙŠÙ€Ø§ \`${username}\` Ù‡Ù€Ø°Ø§ Ø´Ù€Ø§Øª Ø§Ù„Ù…Ø·ÙˆØ± ð‘¯ð‘¨ð‘¹ð‘¶ð‘µ - Ø§ÙŠØ§Ù†Ùˆ\n*âŒ¬â•â”â”â”â”â•âŠ°âš°ï¸âŠ±â•â”â”â”â”â•âŒ¬*\nâ‘ --> Ø§Ø¯Ø®Ù„ Ø¨ØªØ­ÙŠØ© Ø§Ù„Ø³Ù„Ø§Ù… 
â‘¡--> Ù„Ø§ ØªØ²Ø¹Ø¬Ù‡ Ø¨Ø·Ù„Ø¨Ø§Øª ÙØ§Ø±ØºØ©\nâ‘¢--> Ø§Ù„Ø§Ø³ÙƒØ±ÙŠØ¨Øª Ù„ÙŠØ³ Ù…Ø¬Ø§Ù†ÙŠ\n*âŒ¬â•â”â”â”â”â•âŠ°âš°ï¸âŠ±â•â”â”â”â”â•âŒ¬*\n> Ù‡Ø°Ø§ Ø§Ù„Ø±Ù‚Ù… Ù„ÙŠØ³ Ø¨ÙˆØª
 `;

        await conn.sendMessage(m.chat, {
            text: txt,
            footer: 'PAIN - fete',
            buttons: [
                {
                    buttonId: ".menu",
                    buttonText: {
                        displayText: 'Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¨ÙˆØª'
                    },
                    type: 1
                }
            ],
            viewOnce: true,
            headerType: 1
        }, { quoted: m });

    }, 3000); // ØªØ£Ø®ÙŠØ± Ù„Ù…Ø¯Ø© 3 Ø«ÙˆØ§Ù†ÙŠ
};

handler.help = ['owner', 'creator'];
handler.tags = ['main'];
handler.command = /^(owner|Ø§Ù„Ù…Ø·ÙˆØ±|Ù…Ø·ÙˆØ±|dueÃ±o)$/i;

export default handler;